global ^

import "macros" as $

const bags =
	[$BAG_NONE]: {}
	[$BAG_TETROMINOES]:
		* $PIECE_I
		* $PIECE_O
		* $PIECE_T
		* $PIECE_J
		* $PIECE_L
		* $PIECE_S
		* $PIECE_Z
--

export table = =>
	if "number" == type @
		return bags[@]
	@

export at = (index, value) =>
	if value?
		(table @)[index] = value
	(table @)[index]

export size = =>
	#table @

export foreach = (func) =>
	return for i in *table @ do func i